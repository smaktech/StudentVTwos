(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[119],{2456:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return k}));var n=r(7),c=r.n(n),i=r(13),o=r(4),s=r(102),a=r(2),u=r(33),l=r(1455),j=r(1606),b=r(1451),d=r(812),f=r(94),p=r(26),O=r(176),g=r(37),m=r(96),h=r(323),x=r(539),y=r(849),S=r(597),w=r(0);function k(){var e=Object(m.a)().themeStretch,t=Object(p.d)(),r=Object(a.useState)(!1),n=Object(o.a)(r,2),k=n[0],v=n[1],R=Object(p.e)((function(e){return e.product})),F=R.products,B=R.sortBy,A=R.filters,C=function(e,t,r){"featured"===t&&(e=Object(u.orderBy)(e,["sold"],["desc"]));"newest"===t&&(e=Object(u.orderBy)(e,["createdAt"],["desc"]));"priceDesc"===t&&(e=Object(u.orderBy)(e,["price"],["desc"]));"priceAsc"===t&&(e=Object(u.orderBy)(e,["price"],["asc"]));r.gender.length>0&&(e=Object(u.filter)(e,(function(e){return Object(u.includes)(r.gender,e.gender)})));"All"!==r.category&&(e=Object(u.filter)(e,(function(e){return e.category===r.category})));r.colors.length>0&&(e=Object(u.filter)(e,(function(e){return e.colors.some((function(e){return r.colors.includes(e)}))})));r.priceRange&&(e=Object(u.filter)(e,(function(e){return"below"===r.priceRange?e.price<25:"between"===r.priceRange?e.price>=25&&e.price<=75:e.price>75})));r.rating&&(e=Object(u.filter)(e,(function(e){var t=function(e){return"up4Star"===e?4:"up3Star"===e?3:"up2Star"===e?2:1};return e.totalRating>t(r.rating)})));return e}(F,B,A),D=Object(s.d)({initialValues:{gender:A.gender,category:A.category,colors:A.colors,priceRange:A.priceRange,rating:A.rating},onSubmit:function(){var e=Object(i.a)(c.a.mark((function e(t,r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setSubmitting,e.prev=1,e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:n(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),n(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()}),E=D.values,I=D.resetForm,J=D.handleSubmit,P=D.isSubmitting,z=!E.priceRange&&!E.rating&&0===E.gender.length&&0===E.colors.length&&"All"===E.category;Object(a.useEffect)((function(){t(Object(O.k)())}),[t]),Object(a.useEffect)((function(){t(Object(O.h)(E))}),[t,E]);var T=function(){J(),I()};return Object(w.jsxs)(h.a,{title:"Ecommerce: Shop",children:[E&&Object(w.jsx)(l.a,{open:P,sx:{zIndex:9999},children:Object(w.jsx)(j.a,{})}),Object(w.jsxs)(b.a,{maxWidth:!e&&"lg",children:[Object(w.jsx)(x.a,{heading:"Shop",links:[{name:"Dashboard",href:g.b.root},{name:"E-Commerce",href:g.b.eCommerce.root},{name:"Shop"}]}),Object(w.jsxs)(d.a,{spacing:2,direction:{xs:"column",sm:"row"},alignItems:{sm:"center"},justifyContent:"space-between",sx:{mb:2},children:[Object(w.jsx)(y.c,{}),Object(w.jsxs)(d.a,{direction:"row",spacing:1,flexShrink:0,sx:{my:1},children:[Object(w.jsx)(y.a,{formik:D,isOpenFilter:k,onResetFilter:T,onOpenFilter:function(){v(!0)},onCloseFilter:function(){v(!1)}}),Object(w.jsx)(y.d,{})]})]}),Object(w.jsx)(d.a,{sx:{mb:3},children:!z&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(f.a,{variant:"body2",gutterBottom:!0,children:[Object(w.jsx)("strong",{children:C.length}),"\xa0Products found"]}),Object(w.jsx)(y.e,{filters:A,formik:D,isShowReset:k,onResetFilter:T,isDefault:z})]})}),Object(w.jsx)(y.b,{products:C,isDefault:z}),Object(w.jsx)(S.a,{})]})]})}}}]);
//# sourceMappingURL=119.34e954e2.chunk.js.map