(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[57],{1689:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(5),r=a(25),c=a(1544),i=a(1561),o=a(82),l=a(22),s=a(0),d=["colors"],u=["sx"];function b(e){var t=e.colors,a=Object(r.a)(e,d);return Object(s.jsx)(c.a,Object(n.a)(Object(n.a)({row:!0},a),{},{children:t.map((function(e){var t="#FFFFFF"===e||"white"===e;return Object(s.jsx)(i.a,{value:e,color:"default",icon:Object(s.jsx)(f,{sx:Object(n.a)({},t&&{border:function(e){return"solid 1px ".concat(e.palette.divider)}})}),checkedIcon:Object(s.jsx)(f,{sx:Object(n.a)({transform:"scale(1.4)","&:before":{opacity:.48,width:"100%",content:"''",height:"100%",borderRadius:"50%",position:"absolute",boxShadow:"4px 4px 8px 0 currentColor"},"& svg":{width:12,height:12,color:"common.white"}},t&&{border:function(e){return"solid 1px ".concat(e.palette.divider)},boxShadow:function(e){return"4px 4px 8px 0 ".concat(e.palette.grey[50024])},"& svg":{width:12,height:12,color:"common.black"}})}),sx:{color:e,"&:hover":{opacity:.72}}},e)}))}))}function f(e){var t=e.sx,a=Object(r.a)(e,u);return Object(s.jsx)(o.a,Object(n.a)(Object(n.a)({sx:Object(n.a)({width:20,height:20,display:"flex",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center",bgcolor:"currentColor",transition:function(e){return e.transitions.create("all",{duration:e.transitions.duration.shortest})}},t)},a),{},{children:Object(s.jsx)(l.a,{icon:"eva:checkmark-fill"})}))}},1744:function(e,t,a){"use strict";a.d(t,"a",(function(){return V})),a.d(t,"b",(function(){return G})),a.d(t,"c",(function(){return K}));var n=a(5),r=a(7),c=a.n(r),i=a(13),o=a(4),l=a(2),s=a(324),d=a(1831),u=a.n(d),b=a(272),f=a(1836),p=a.n(f),j=a(112),h=a(102),v=a(1599),O=a(1578),x=a(1596),g=a(1627),y=a(1600),m=a(819),w=a(817),k=a(82),C=a(322),D=a(2038),S=a(1609),F=a(26),A=a(555),E=a(334),R=a(22),I=a(1689),W=(a(119),a(28)),M=a(0),T=["#00AB55","#1890FF","#94D82D","#FFC107","#FF4842","#04297A","#7A0C2E"],z=function(e,t){var a={title:"",description:"",textColor:"#1890FF",allDay:!1,start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date};return e||t?u()({},a,e):(console.log(a),a)};function V(e){var t=e.event,a=e.range,r=e.onCancel,d=Object(l.useState)(""),u=Object(o.a)(d,2),f=(u[0],u[1],Object(l.useState)("")),V=Object(o.a)(f,2),B=(V[0],V[1],Object(l.useState)("")),_=Object(o.a)(B,2),G=(_[0],_[1],Object(l.useState)("")),q=Object(o.a)(G,2),L=(q[0],q[1],Object(l.useState)("")),N=Object(o.a)(L,2),P=(N[0],N[1],Object(W.d)((function(e){return e.user.info}))),U=Object(j.b)().enqueueSnackbar,J=Object(F.d)(),H=Object(E.a)(),Y=p()(t),K=s.f().shape({title:s.h().max(255).required("Title is required"),description:s.h().max(5e3)}),Q=Object(h.d)({initialValues:z(t,a),validationSchema:K,onSubmit:function(){var e=Object(i.a)(c.a.mark((function e(a,n){var i,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.resetForm,o=n.setSubmitting;try{l={title:a.title,description:a.description,textColor:a.textColor,allDay:a.allDay,start:a.start,end:a.end,userID:P._id},console.log(l," addevebt"),t._id?(J(Object(A.i)(t._id,l)),U("Update event success",{variant:"success"})):(J(Object(A.b)(l)),U("Create event success",{variant:"success"})),r(),H.current&&(i(),o(!1))}catch(c){console.error(c),H.current&&o(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),X=Q.values,Z=Q.errors,$=Q.touched,ee=Q.handleSubmit,te=Q.isSubmitting,ae=Q.getFieldProps,ne=(Q.submitForm,Q.setFieldValue),re=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return");case 2:try{r(),J(Object(A.d)(t.id)),U("Delete event success",{variant:"success"})}catch(a){console.error(a)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=Object(b.a)(new Date(X.end),new Date(X.start));return Object(M.jsx)(h.b,{value:Q,children:Object(M.jsxs)(h.a,{autoComplete:"off",noValidate:!0,onSubmit:ee,children:[Object(M.jsxs)(v.a,{sx:{pb:0,overflowY:"unset"},children:[Object(M.jsx)(O.a,Object(n.a)(Object(n.a)({fullWidth:!0,label:"Title"},ae("title")),{},{error:Boolean($.title&&Z.title),helperText:$.title&&Z.title,onChange:function(e){return ne("title",e.target.value)},sx:{mb:3}})),Object(M.jsx)(O.a,Object(n.a)(Object(n.a)({fullWidth:!0,multiline:!0,maxRows:4,label:"Description"},ae("description")),{},{error:Boolean($.description&&Z.description),helperText:$.description&&Z.description,onChange:function(e){return ne("description",e.target.value)},sx:{mb:3}})),Object(M.jsx)(x.a,{control:Object(M.jsx)(g.a,Object(n.a)({checked:X.allDay},ae("allDay"))),label:"All day",sx:{mb:3}}),Object(M.jsx)(D.a,{label:"Start date",value:X.start,inputFormat:"dd/MM/yyyy hh:mm a",onChange:function(e){return ne("start",e)},renderInput:function(e){return Object(M.jsx)(O.a,Object(n.a)(Object(n.a)({},e),{},{fullWidth:!0,sx:{mb:3}}))}}),Object(M.jsx)(D.a,{label:"End date",value:X.end,inputFormat:"dd/MM/yyyy hh:mm a",onChange:function(e){return ne("end",e)},renderInput:function(e){return Object(M.jsx)(O.a,Object(n.a)(Object(n.a)({},e),{},{fullWidth:!0,error:Boolean(ce),helperText:ce&&"End date must be later than start date",sx:{mb:3}}))}}),Object(M.jsx)(I.a,Object(n.a)(Object(n.a)({},ae("textColor")),{},{colors:T}))]}),Object(M.jsxs)(y.a,{children:[!Y&&Object(M.jsx)(m.a,{title:"Delete Event",children:Object(M.jsx)(w.a,{onClick:re,children:Object(M.jsx)(R.a,{icon:"eva:trash-2-outline",width:20,height:20})})}),Object(M.jsx)(k.a,{sx:{flexGrow:1}}),Object(M.jsx)(C.a,{type:"button",variant:"outlined",color:"inherit",onClick:r,children:"Cancel"}),Object(M.jsx)(S.a,{type:"submit",variant:"contained",loading:te,loadingIndicator:"Loading...",children:"Add"})]})]})})}var B=a(10),_=a(58),G=Object(B.a)("div")((function(e){var t=e.theme;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-list-event-dot-width":"8px","--fc-border-color":t.palette.divider,"--fc-event-border-color":t.palette.info.light,"--fc-now-indicator-color":t.palette.error.main,"--fc-today-bg-color":t.palette.action.selected,"--fc-page-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.neutral,"--fc-list-event-hover-bg-color":t.palette.action.hover,"--fc-highlight-color":Object(_.a)(t.palette.primary.main,.08)},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":Object(n.a)(Object(n.a)({},t.typography.subtitle2),{},{padding:"13px 0"})},"& .fc .fc-event":{borderColor:"transparent",backgroundColor:"transparent"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:4,backgroundColor:t.palette.common.white,transition:t.transitions.create("filter"),"&:hover":{filter:"brightness(0.92)"},"&:before,&:after":{top:0,left:0,width:"100%",height:"100%",content:"''",borderRadius:4,position:"absolute",boxSizing:"border-box"},"&:before":{zIndex:8,opacity:.32,border:"solid 1px currentColor"},"&:after":{zIndex:7,opacity:.24,backgroundColor:"currentColor"}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.24)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{padding:0,overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper},"& .fc .fc-popover-header":Object(n.a)(Object(n.a)({},t.typography.subtitle2),{},{padding:t.spacing(1),backgroundColor:t.palette.grey[50012],borderBottom:"solid 1px ".concat(t.palette.divider)}),"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create("opacity"),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1.5)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc .fc-daygrid-day-number":Object(n.a)(Object(n.a)({},t.typography.body2),{},{padding:t.spacing(1,1,0)}),"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":Object(n.a)(Object(n.a)({},t.typography.caption),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-axis-cushion":Object(n.a)(Object(n.a)({},t.typography.body2),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-slot-label-cushion":Object(n.a)({},t.typography.body2),"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":Object(n.a)({},t.typography.subtitle2),"& .fc .fc-list-event":Object(n.a)(Object(n.a)({},t.typography.body2),{},{"& .fc-list-event-time":{color:t.palette.text.secondary}}),"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}})),q=a(6),L=a(812),N=a(2408),P=a(94),U=a(162),J=a(103),H=[{value:"dayGridMonth",label:"Month",icon:"ic:round-view-module"},{value:"timeGridWeek",label:"Week",icon:"ic:round-view-week"},{value:"timeGridDay",label:"Day",icon:"ic:round-view-day"},{value:"listWeek",label:"Agenda",icon:"ic:round-view-agenda"}],Y=Object(B.a)("div")((function(e){var t=e.theme;return Object(q.a)({display:"flex",alignItems:"center",flexDirection:"column",padding:t.spacing(3,0)},t.breakpoints.up("sm"),{flexDirection:"row",padding:t.spacing(1.75,3),justifyContent:"space-between"})}));function K(e){var t=e.date,a=e.view,n=e.onNextDate,r=e.onPrevDate,c=e.onToday,i=e.onChangeView,o=e.viewOptions,l=e.showChangeDateOptions,s=Object(J.a)("up","sm");return o||(o=H),Object(M.jsxs)(Y,{children:[s&&Object(M.jsx)(L.a,{direction:"row",spacing:1,children:o.map((function(e){return Object(M.jsx)(m.a,{title:e.label,children:Object(M.jsx)(N.a,{value:a,selected:e.value===a,onChange:function(){return i(e.value)},sx:{width:32,height:32,padding:0},children:Object(M.jsx)(R.a,{icon:e.icon,width:20,height:20})})},e.value)}))}),Object(M.jsx)(P.a,{variant:"h5",sx:{my:{xs:1,sm:0}},children:Object(U.a)(t)}),l?Object(M.jsxs)(k.a,{sx:{display:"flex",alignItems:"center"},children:[Object(M.jsx)(w.a,{onClick:r,children:Object(M.jsx)(R.a,{icon:"eva:arrow-ios-back-fill",width:18,height:18})}),Object(M.jsx)(C.a,{size:"small",color:"error",variant:"contained",onClick:c,sx:{mx:.5},children:"Today"}),Object(M.jsx)(w.a,{onClick:n,children:Object(M.jsx)(R.a,{icon:"eva:arrow-ios-forward-fill",width:18,height:18})})]}):null]})}},1827:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var n=a(7),r=a.n(n),c=a(13),i=a(4),o=a(1974),l=a(1828),s=a(1753),d=a(1829),u=a(1972),b=a(1830),f=a(112),p=a(2),j=a(1451),h=a(322),v=a(1453),O=a(1723),x=a(26),g=a(555),y=a(37),m=a(96),w=a(103),k=a(323),C=a(22),D=a(48),S=a(539),F=a(1744),A=a(0),E=function(e){var t=e.calendar,a=t.events,n=t.selectedEventId;return n?a.find((function(e){return e.id===n})):null};function R(){var e=Object(m.a)().themeStretch,t=Object(f.b)().enqueueSnackbar,a=Object(x.d)(),n=Object(w.a)("up","sm"),R=Object(p.useRef)(null),I=Object(p.useState)(new Date),W=Object(i.a)(I,2),M=W[0],T=W[1],z=Object(p.useState)(n?"dayGridMonth":"listWeek"),V=Object(i.a)(z,2),B=V[0],_=V[1],G=Object(x.e)(E),q=Object(x.e)((function(e){return e.calendar})),L=q.events,N=q.isOpenModal,P=q.selectedRange,U=Object(x.e)((function(e){return e.user.info}));console.log(L," userEvents"),Object(p.useEffect)((function(){U._id&&a(Object(g.e)(U._id))}),[a,U]),Object(p.useEffect)((function(){var e=R.current;if(e){var t=e.getApi(),a=n?"dayGridMonth":"listWeek";t.changeView(a),_(a)}}),[n]);var J=function(){var e=Object(c.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.event;try{a(Object(g.i)(c._id,{allDay:c.allDay,start:c.start,end:c.end})),t("Update event success",{variant:"success"})}catch(r){console.error(r)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.event;try{a(Object(g.i)(c._id,{allDay:c.allDay,start:c.start,end:c.end})),t("Update event success",{variant:"success"})}catch(r){console.error(r)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){a(Object(g.a)())};return Object(A.jsx)(k.a,{title:"Calendar",children:Object(A.jsxs)(j.a,{maxWidth:!e&&"xl",sx:{position:"relative"},children:[Object(A.jsx)(S.a,{heading:"Calendar",links:[{name:"Dashboard",href:y.b.root},{name:"Calendar"}],moreLink:"",action:Object(A.jsx)(h.a,{variant:"contained",startIcon:Object(A.jsx)(C.a,{icon:"eva:plus-fill",width:20,height:20}),onClick:function(){a(Object(g.f)())},children:"New Event"})}),Object(A.jsx)(v.a,{children:Object(A.jsxs)(F.b,{children:[Object(A.jsx)(F.c,{date:M,view:B,onNextDate:function(){var e=R.current;if(e){var t=e.getApi();t.next(),T(t.getDate())}},onPrevDate:function(){var e=R.current;if(e){var t=e.getApi();t.prev(),T(t.getDate())}},onToday:function(){var e=R.current;if(e){var t=e.getApi();t.today(),T(t.getDate())}},onChangeView:function(e){var t=R.current;t&&(t.getApi().changeView(e),_(e))}}),Object(A.jsx)(o.a,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:L,ref:R,rerenderDelay:10,initialDate:M,initialView:B,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:function(e){var t=R.current;t&&t.getApi().unselect();a(Object(g.h)(e.start,e.end))},eventDrop:H,eventClick:function(e){a(Object(g.g)(e.event.id))},eventResize:J,height:n?720:"auto",plugins:[l.a,s.b,u.a,d.a,b.a]})]})}),Object(A.jsxs)(D.a,{open:N,onClose:Y,children:[Object(A.jsx)(O.a,{children:G?"Edit Event":"Add Event"}),Object(A.jsx)(F.a,{event:G||{},range:P,onCancel:Y})]})]})})}}}]);
//# sourceMappingURL=57.239219d9.chunk.js.map